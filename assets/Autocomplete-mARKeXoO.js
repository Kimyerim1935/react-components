import{j as n}from"./jsx-runtime-BjgbQsUx.js";import{r as t}from"./index-DDT2H6na.js";import{l}from"./Listbox-C6x8YZCb.js";import{T as b}from"./TextField-x0uPwc1f.js";import{j as y}from"./format-BvyHdC65.js";function T({labelText:u,onChange:m,onSelect:d,options:r,value:c}){const g=t.useRef(null),p=t.useRef(null),[s,i]=t.useState(!1),f=t.useId(),h=t.useId(),x=t.useCallback(e=>{d(e),i(!1)},[d]),v=t.useCallback(e=>{m(e),e.currentTarget.value?i(!0):i(!1)},[m]);return t.useEffect(()=>{s&&r.length?document.body.style.overflow="hidden":document.body.style.overflow="auto"},[s,r]),t.useEffect(()=>{function e(a){var o;s&&!((o=p.current)!=null&&o.contains(a.target))&&(document.body.style.overflow="auto")}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[s]),n.jsxs("div",{children:[n.jsx("div",{className:"flex w-full items-center justify-center gap-1.25 bg-white",children:n.jsx(b,{ref:p,isFullWidth:!0,"aria-expanded":!!(r.length>0&&s),id:h,labelText:u,type:"text",value:c,"aria-autocomplete":"list","aria-controls":f,autoComplete:"new-password",onChange:v,role:"combobox"})}),!!(r.length>0&&s)&&n.jsx("ul",{ref:g,"aria-label":u,className:l.list,id:f,role:"listbox",children:r.map(e=>n.jsx("li",{className:y("group px-3",l.listItem),children:n.jsx("button",{className:y(l.listItemButton),type:"button",onClick:()=>x(e),children:[...e.label].map((a,o)=>c.includes(a)?n.jsx("span",{className:"font-semibold text-primary-800",children:a},`letter-${o}`):n.jsx(t.Fragment,{children:a},`letter-${o}`))})},`list-${e.idx}`))})]})}T.__docgenInfo={description:"",methods:[],displayName:"Autocomplete",props:{value:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ChangeEvent",elements:[{name:"HTMLInputElement"}],raw:"ChangeEvent<HTMLInputElement>"},name:"e"}],return:{name:"void"}}},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(selected: OptionsType) => void",signature:{arguments:[{type:{name:"OptionsType"},name:"selected"}],return:{name:"void"}}},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"OptionsType"}],raw:"OptionsType[]"},description:""},labelText:{required:!1,tsType:{name:"string"},description:""}}};export{T as A};
