import{j as d}from"./jsx-runtime-BjgbQsUx.js";import{r as i}from"./index-DDT2H6na.js";import{j as c}from"./format-BvyHdC65.js";const p=({anchorElement:e,children:r,element:n,isOpen:o,onClose:s})=>(i.useEffect(()=>{function a(t){o&&!(n!=null&&n.contains(t.target))&&!(e!=null&&e.contains(t.target))&&s()}return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[e,n,o,s]),r);function m({anchorElement:e,anchorPosition:r,children:n,className:o,isOpen:s,onClose:a}){const t=i.useRef(null),u=i.useCallback(()=>{if(e&&t.current){const l=e.getBoundingClientRect();t.current.style.top=l.bottom-l.height-t.current.offsetHeight+"px",t.current.style.left=l.left+"px",r.vertical==="bottom"&&(t.current.style.top=l.top+l.height+"px"),r.horizontal==="right"&&(t.current.style.left=l.right-t.current.offsetWidth+"px")}},[e,r]);return i.useEffect(()=>(u(),window.addEventListener("resize",u),window.addEventListener("scroll",u),()=>{window.removeEventListener("resize",u),window.removeEventListener("scroll",u)}),[u]),d.jsx(p,{element:t.current,isOpen:s,anchorElement:e,onClose:a,children:d.jsx("div",{ref:t,className:c("fixed z-10000 rounded bg-white p-2.5 shadow-01",s?"block":"hidden",o&&o),children:n})})}m.__docgenInfo={description:"",methods:[],displayName:"SharedPopover",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},anchorElement:{required:!0,tsType:{name:"union",raw:"HTMLElement | null",elements:[{name:"HTMLElement"},{name:"null"}]},description:""},anchorPosition:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  vertical: 'bottom' | 'top';
  horizontal: 'left' | 'right';
}`,signature:{properties:[{key:"vertical",value:{name:"union",raw:"'bottom' | 'top'",elements:[{name:"literal",value:"'bottom'"},{name:"literal",value:"'top'"}],required:!0}},{key:"horizontal",value:{name:"union",raw:"'left' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'right'"}],required:!0}}]}},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};const h=()=>{const[e,r]=i.useState(null),n=i.useMemo(()=>!!e,[e]),o=i.useCallback(a=>{r(e?null:a.currentTarget)},[e]),s=i.useCallback(()=>r(null),[]);return{anchorElement:e,handleClose:s,handleOpen:o,isOpen:n}};export{p as C,m as S,h as u};
