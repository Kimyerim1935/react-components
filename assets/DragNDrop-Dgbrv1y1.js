import{j as g}from"./jsx-runtime-BjgbQsUx.js";import{r as n}from"./index-DDT2H6na.js";import{l as f}from"./Listbox-C6x8YZCb.js";import{j as T}from"./format-BvyHdC65.js";function x({onDragOver:l,onDragStart:a,onDrop:r,options:i}){const d=n.useCallback((e,t)=>{a&&a(e,t)},[a]),p=n.useCallback((e,t)=>{r&&r(e,t)},[r]);return i.map(e=>g.jsx("li",{draggable:!0,className:T(f.listItem,f.listItemButton,"leading-40"),onDragOver:l,onDragStart:t=>d(t,e),onDrop:t=>p(t,e),children:e.label},e.idx))}function h({onDragOver:l,onDragStart:a,onDrop:r,options:i=[],renderItem:d,...p}){const[e,t]=n.useState(i),[u,v]=n.useState(null);n.useEffect(()=>{i.length>0&&t(i)},[i]);const y=n.useCallback((s,m)=>{v(m),a&&a(s,m)},[a]),D=n.useCallback(s=>{s.preventDefault(),l&&l(s)},[l]),I=n.useCallback((s,m)=>{if(s.preventDefault(),u){const o=e.slice(),E=o.findIndex(c=>c.idx===u.idx),L=o.findIndex(c=>c.idx===m.idx);o[L]=u,o[E]=m,v(null),t(o)}r&&r(s,m)},[u,e,r]);return g.jsx("ul",{...p,className:f.list,id:"drag-list",children:d?d():g.jsx(x,{onDragOver:D,onDragStart:y,onDrop:I,options:e})})}h.__docgenInfo={description:"",methods:[],displayName:"DragNDrop",props:{renderItem:{required:!1,tsType:{name:"signature",type:"function",raw:"() => ReactNode",signature:{arguments:[],return:{name:"ReactNode"}}},description:""},onDragOver:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: DragEvent<HTMLLIElement>) => void",signature:{arguments:[{type:{name:"DragEvent",elements:[{name:"HTMLLIElement"}],raw:"DragEvent<HTMLLIElement>"},name:"event"}],return:{name:"void"}}},description:""},onDragStart:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: DragEvent<HTMLLIElement>, item: OptionsType) => void",signature:{arguments:[{type:{name:"DragEvent",elements:[{name:"HTMLLIElement"}],raw:"DragEvent<HTMLLIElement>"},name:"event"},{type:{name:"OptionsType"},name:"item"}],return:{name:"void"}}},description:""},onDrop:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: DragEvent<HTMLLIElement>, targetItem: OptionsType) => void",signature:{arguments:[{type:{name:"DragEvent",elements:[{name:"HTMLLIElement"}],raw:"DragEvent<HTMLLIElement>"},name:"event"},{type:{name:"OptionsType"},name:"targetItem"}],return:{name:"void"}}},description:""},options:{required:!1,tsType:{name:"Array",elements:[{name:"OptionsType"}],raw:"OptionsType[]"},description:"",defaultValue:{value:"[]",computed:!1}}},composes:["Omit"]};export{h as D};
